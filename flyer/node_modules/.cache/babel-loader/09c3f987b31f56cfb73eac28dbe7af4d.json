{"ast":null,"code":"var _jsxFileName = \"/Users/gurjitsingh/AndroidStudioProjects/Flyer_Frontend/flyer/src/pages/Login.jsx\";\nimport React, { Component, useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\"; // import { AuthContext } from \"../contexts/AuthContext\";\n\nimport { Avatar, Button, Box, CssBaseline, Container, TextField, FormControlLabel, Checkbox, Link, Grid, Typography } from \"@material-ui/core\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport validateForm from \"../utils/FormValidation\";\nimport FormErrors from \"../components/FormErrors/FormErrors\";\nimport { Auth } from \"aws-amplify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createTheme();\n\nclass LogIn extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      errors: {\n        cognito: null,\n        blankfield: false\n      }\n    };\n\n    this.clearErrorState = () => {\n      this.setState({\n        errors: {\n          cognito: null,\n          blankfield: false\n        }\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault(); // Form validation\n\n      this.clearErrorState();\n      const error = validateForm(event, this.state);\n\n      if (error) {\n        this.setState({\n          errors: { ...this.state.errors,\n            ...error\n          }\n        });\n      } // AWS Cognito integration here\n\n\n      try {\n        const user = await Auth.signIn(this.state.username, this.state.password);\n        console.log(user);\n        this.props.auth.setAuthStatus(true);\n        this.props.auth.setUser(user);\n        this.props.history.push(\"/workspace\");\n      } catch (error) {\n        let err = null;\n        !error.message ? err = {\n          message: error\n        } : err = error;\n        this.setState({\n          errors: { ...this.state.errors,\n            cognito: err\n          }\n        });\n      }\n    };\n\n    this.onInputChange = event => {\n      this.setState({\n        [event.target.id]: event.target.value\n      });\n      document.getElementById(event.target.id).classList.remove(\"is-danger\");\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        component: \"main\",\n        maxWidth: \"xs\",\n        children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            marginTop: 8,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              m: 1,\n              bgcolor: \"secondary.main\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            component: \"h1\",\n            variant: \"h5\",\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormErrors, {\n            formerrors: this.state.errors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: this.handleSubmit,\n            sx: {\n              mt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"username\",\n              label: \"Enter your Username or Email Address\",\n              name: \"username\",\n              autoComplete: \"username\",\n              autoFocus: true,\n              value: this.state.username,\n              onChange: this.onInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              name: \"password\",\n              label: \"Password\",\n              type: \"password\",\n              id: \"password\",\n              autoComplete: \"current-password\",\n              value: this.state.username,\n              onChange: this.onInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                value: \"remember\",\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 26\n              }, this),\n              label: \"Remember me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              fullWidth: true,\n              variant: \"contained\",\n              sx: {\n                mt: 3,\n                mb: 2\n              },\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/forgot-password\",\n                  variant: \"body2\",\n                  children: \"Forgot password?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/signup\",\n                  variant: \"body2\",\n                  children: \"Don't have an account? Sign Up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default LogIn;","map":{"version":3,"sources":["/Users/gurjitsingh/AndroidStudioProjects/Flyer_Frontend/flyer/src/pages/Login.jsx"],"names":["React","Component","useContext","Redirect","Avatar","Button","Box","CssBaseline","Container","TextField","FormControlLabel","Checkbox","Link","Grid","Typography","createTheme","ThemeProvider","validateForm","FormErrors","Auth","theme","LogIn","state","username","password","errors","cognito","blankfield","clearErrorState","setState","handleSubmit","event","preventDefault","error","user","signIn","console","log","props","auth","setAuthStatus","setUser","history","push","err","message","onInputChange","target","id","value","document","getElementById","classList","remove","render","marginTop","display","flexDirection","alignItems","m","bgcolor","mt","mb"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,SAASC,QAAT,QAAyB,kBAAzB,C,CACA;;AACA,SACEC,MADF,EAEEC,MAFF,EAGEC,GAHF,EAIEC,WAJF,EAKEC,SALF,EAMEC,SANF,EAOEC,gBAPF,EAQEC,QARF,EASEC,IATF,EAUEC,IAVF,EAWEC,UAXF,QAYO,mBAZP;AAaA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,0BAA3C;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,SAASC,IAAT,QAAqB,aAArB;;AAEA,MAAMC,KAAK,GAAGL,WAAW,EAAzB;;AACA,MAAMM,KAAN,SAAoBpB,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC5BqB,KAD4B,GACpB;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,MAAM,EAAE;AACNC,QAAAA,OAAO,EAAE,IADH;AAENC,QAAAA,UAAU,EAAE;AAFN;AAHF,KADoB;;AAAA,SAU5BC,eAV4B,GAUV,MAAM;AACtB,WAAKC,QAAL,CAAc;AACZJ,QAAAA,MAAM,EAAE;AACNC,UAAAA,OAAO,EAAE,IADH;AAENC,UAAAA,UAAU,EAAE;AAFN;AADI,OAAd;AAMD,KAjB2B;;AAAA,SAmB5BG,YAnB4B,GAmBb,MAAOC,KAAP,IAAiB;AAC9BA,MAAAA,KAAK,CAACC,cAAN,GAD8B,CAG9B;;AACA,WAAKJ,eAAL;AACA,YAAMK,KAAK,GAAGhB,YAAY,CAACc,KAAD,EAAQ,KAAKT,KAAb,CAA1B;;AACA,UAAIW,KAAJ,EAAW;AACT,aAAKJ,QAAL,CAAc;AACZJ,UAAAA,MAAM,EAAE,EAAE,GAAG,KAAKH,KAAL,CAAWG,MAAhB;AAAwB,eAAGQ;AAA3B;AADI,SAAd;AAGD,OAV6B,CAY9B;;;AACA,UAAI;AACF,cAAMC,IAAI,GAAG,MAAMf,IAAI,CAACgB,MAAL,CAAY,KAAKb,KAAL,CAAWC,QAAvB,EAAiC,KAAKD,KAAL,CAAWE,QAA5C,CAAnB;AACAY,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,aAAKI,KAAL,CAAWC,IAAX,CAAgBC,aAAhB,CAA8B,IAA9B;AACA,aAAKF,KAAL,CAAWC,IAAX,CAAgBE,OAAhB,CAAwBP,IAAxB;AACA,aAAKI,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD,OAND,CAME,OAAOV,KAAP,EAAc;AACd,YAAIW,GAAG,GAAG,IAAV;AACA,SAACX,KAAK,CAACY,OAAP,GAAkBD,GAAG,GAAG;AAAEC,UAAAA,OAAO,EAAEZ;AAAX,SAAxB,GAA+CW,GAAG,GAAGX,KAArD;AACA,aAAKJ,QAAL,CAAc;AACZJ,UAAAA,MAAM,EAAE,EACN,GAAG,KAAKH,KAAL,CAAWG,MADR;AAENC,YAAAA,OAAO,EAAEkB;AAFH;AADI,SAAd;AAMD;AACF,KAhD2B;;AAAA,SAkD5BE,aAlD4B,GAkDXf,KAAD,IAAW;AACzB,WAAKF,QAAL,CAAc;AACZ,SAACE,KAAK,CAACgB,MAAN,CAAaC,EAAd,GAAmBjB,KAAK,CAACgB,MAAN,CAAaE;AADpB,OAAd;AAGAC,MAAAA,QAAQ,CAACC,cAAT,CAAwBpB,KAAK,CAACgB,MAAN,CAAaC,EAArC,EAAyCI,SAAzC,CAAmDC,MAAnD,CAA0D,WAA1D;AACD,KAvD2B;AAAA;;AAyD5BC,EAAAA,MAAM,GAAG;AACP,wBACE,QAAC,aAAD;AAAe,MAAA,KAAK,EAAElC,KAAtB;AAAA,6BACE,QAAC,SAAD;AAAW,QAAA,SAAS,EAAC,MAArB;AAA4B,QAAA,QAAQ,EAAC,IAArC;AAAA,gCACE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,GAAD;AACE,UAAA,EAAE,EAAE;AACFmC,YAAAA,SAAS,EAAE,CADT;AAEFC,YAAAA,OAAO,EAAE,MAFP;AAGFC,YAAAA,aAAa,EAAE,QAHb;AAIFC,YAAAA,UAAU,EAAE;AAJV,WADN;AAAA,kCAQE,QAAC,MAAD;AAAQ,YAAA,EAAE,EAAE;AAAEC,cAAAA,CAAC,EAAE,CAAL;AAAQC,cAAAA,OAAO,EAAE;AAAjB;AAAZ;AAAA;AAAA;AAAA;AAAA,kBARF,eASE,QAAC,UAAD;AAAY,YAAA,SAAS,EAAC,IAAtB;AAA2B,YAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,eAYE,QAAC,UAAD;AAAY,YAAA,UAAU,EAAE,KAAKtC,KAAL,CAAWG;AAAnC;AAAA;AAAA;AAAA;AAAA,kBAZF,eAaE,QAAC,GAAD;AAAK,YAAA,SAAS,EAAC,MAAf;AAAsB,YAAA,QAAQ,EAAE,KAAKK,YAArC;AAAmD,YAAA,EAAE,EAAE;AAAE+B,cAAAA,EAAE,EAAE;AAAN,aAAvD;AAAA,oCACE,QAAC,SAAD;AACE,cAAA,MAAM,EAAC,QADT;AAEE,cAAA,QAAQ,MAFV;AAGE,cAAA,SAAS,MAHX;AAIE,cAAA,EAAE,EAAC,UAJL;AAKE,cAAA,KAAK,EAAC,sCALR;AAME,cAAA,IAAI,EAAC,UANP;AAOE,cAAA,YAAY,EAAC,UAPf;AAQE,cAAA,SAAS,MARX;AASE,cAAA,KAAK,EAAE,KAAKvC,KAAL,CAAWC,QATpB;AAUE,cAAA,QAAQ,EAAE,KAAKuB;AAVjB;AAAA;AAAA;AAAA;AAAA,oBADF,eAaE,QAAC,SAAD;AACE,cAAA,MAAM,EAAC,QADT;AAEE,cAAA,QAAQ,MAFV;AAGE,cAAA,SAAS,MAHX;AAIE,cAAA,IAAI,EAAC,UAJP;AAKE,cAAA,KAAK,EAAC,UALR;AAME,cAAA,IAAI,EAAC,UANP;AAOE,cAAA,EAAE,EAAC,UAPL;AAQE,cAAA,YAAY,EAAC,kBARf;AASE,cAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWC,QATpB;AAUE,cAAA,QAAQ,EAAE,KAAKuB;AAVjB;AAAA;AAAA;AAAA;AAAA,oBAbF,eAyBE,QAAC,gBAAD;AACE,cAAA,OAAO,eAAE,QAAC,QAAD;AAAU,gBAAA,KAAK,EAAC,UAAhB;AAA2B,gBAAA,KAAK,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,sBADX;AAEE,cAAA,KAAK,EAAC;AAFR;AAAA;AAAA;AAAA;AAAA,oBAzBF,eA6BE,QAAC,MAAD;AACE,cAAA,IAAI,EAAC,QADP;AAEE,cAAA,SAAS,MAFX;AAGE,cAAA,OAAO,EAAC,WAHV;AAIE,cAAA,EAAE,EAAE;AAAEe,gBAAAA,EAAE,EAAE,CAAN;AAASC,gBAAAA,EAAE,EAAE;AAAb,eAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7BF,eAsCE,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAA,sCACE,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,MAAb;AAAA,uCACE,QAAC,IAAD;AAAM,kBAAA,IAAI,EAAC,kBAAX;AAA8B,kBAAA,OAAO,EAAC,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAME,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAA,uCACE,QAAC,IAAD;AAAM,kBAAA,IAAI,EAAC,SAAX;AAAqB,kBAAA,OAAO,EAAC,OAA7B;AAAA,4BACG;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBANF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAtCF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAwED;;AAlI2B;;AAqI9B,eAAezC,KAAf","sourcesContent":["import React, { Component, useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n// import { AuthContext } from \"../contexts/AuthContext\";\nimport {\n  Avatar,\n  Button,\n  Box,\n  CssBaseline,\n  Container,\n  TextField,\n  FormControlLabel,\n  Checkbox,\n  Link,\n  Grid,\n  Typography,\n} from \"@material-ui/core\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport validateForm from \"../utils/FormValidation\";\nimport FormErrors from \"../components/FormErrors/FormErrors\";\nimport { Auth } from \"aws-amplify\";\n\nconst theme = createTheme();\nclass LogIn extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    errors: {\n      cognito: null,\n      blankfield: false,\n    },\n  };\n\n  clearErrorState = () => {\n    this.setState({\n      errors: {\n        cognito: null,\n        blankfield: false,\n      },\n    });\n  };\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n\n    // Form validation\n    this.clearErrorState();\n    const error = validateForm(event, this.state);\n    if (error) {\n      this.setState({\n        errors: { ...this.state.errors, ...error },\n      });\n    }\n\n    // AWS Cognito integration here\n    try {\n      const user = await Auth.signIn(this.state.username, this.state.password);\n      console.log(user);\n      this.props.auth.setAuthStatus(true);\n      this.props.auth.setUser(user);\n      this.props.history.push(\"/workspace\");\n    } catch (error) {\n      let err = null;\n      !error.message ? (err = { message: error }) : (err = error);\n      this.setState({\n        errors: {\n          ...this.state.errors,\n          cognito: err,\n        },\n      });\n    }\n  };\n\n  onInputChange = (event) => {\n    this.setState({\n      [event.target.id]: event.target.value,\n    });\n    document.getElementById(event.target.id).classList.remove(\"is-danger\");\n  };\n\n  render() {\n    return (\n      <ThemeProvider theme={theme}>\n        <Container component=\"main\" maxWidth=\"xs\">\n          <CssBaseline />\n          <Box\n            sx={{\n              marginTop: 8,\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}></Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Sign in\n            </Typography>\n            <FormErrors formerrors={this.state.errors} />\n            <Box component=\"form\" onSubmit={this.handleSubmit} sx={{ mt: 1 }}>\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Enter your Username or Email Address\"\n                name=\"username\"\n                autoComplete=\"username\"\n                autoFocus\n                value={this.state.username}\n                onChange={this.onInputChange}\n              />\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                value={this.state.username}\n                onChange={this.onInputChange}\n              />\n              <FormControlLabel\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\n                label=\"Remember me\"\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                sx={{ mt: 3, mb: 2 }}\n              >\n                Sign In\n              </Button>\n\n              <Grid container>\n                <Grid item xs>\n                  <Link href=\"/forgot-password\" variant=\"body2\">\n                    Forgot password?\n                  </Link>\n                </Grid>\n                <Grid item>\n                  <Link href=\"/signup\" variant=\"body2\">\n                    {\"Don't have an account? Sign Up\"}\n                  </Link>\n                </Grid>\n              </Grid>\n            </Box>\n          </Box>\n        </Container>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default LogIn;\n"]},"metadata":{},"sourceType":"module"}